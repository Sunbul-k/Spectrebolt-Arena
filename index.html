<!DOCTYPE html>
<html>
<body>
    <canvas id="game" width="800" height="600" style="background: #eee;"></canvas>
    <script>
        const canvas = document.getElementById('game');
        const ctx = canvas.getContext('2d');

        let player = { x: 400, y: 300, color: 'blue', speed: 5, angle: 0 };
        let bullets = [];

        // Aiming Logic (The "Eye Tracker")
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            let dx = e.clientX - rect.left - player.x;
            let dy = e.clientY - rect.top - player.y;
            player.angle = Math.atan2(dy, dx); 
        });

        function update() {
            // Clear screen
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw Player (Circle)
            ctx.save();
            ctx.translate(player.x, player.y);
            ctx.rotate(player.angle); // Rotate to face mouse
            ctx.fillStyle = player.color;
            ctx.beginPath();
            ctx.arc(0, 0, 20, 0, Math.PI * 2);
            ctx.fill();
            // Draw a small line to show where the gun is pointing
            ctx.fillRect(0, -2, 30, 4); 
            ctx.restore();

            requestAnimationFrame(update);
        }
        update();
    </script>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <script src="/socket.io/socket.io.js"></script> <script src="app.js"></script>
</body>
</html>